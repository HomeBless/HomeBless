{% extends 'base.html' %}
{% load static %}

{% block content %}
<div class="pt-[92px]">
    <div class="w-full h-[1500px] flex-col justify-start items-center gap-16 inline-flex">
        <div class="w-full h-[700px] flex justify-center items-center bg-[url('{% static "banner.png" %}')] bg-cover bg-center relative">
            <div class="w-full h-full bg-[#151515]/50 flex flex-col justify-center items-center gap-2">
            <div class="h-[398px] flex-col justify-start items-start gap-6 flex">
                <div class="h-[122px] flex-col justify-start items-start flex">
                    <div class="self-stretch text-[#faf9f6] text-5xl font-bold font-['IBM Plex Sans Thai'] capitalize">ค้นหาบ้านในฝันของคุณได้ง่ายๆ</div>
                    <div class="self-stretch text-[#faf9f6] text-[32px] font-bold font-['IBM Plex Sans Thai']">เรามีตัวเลือกบ้านหลากหลายสำหรับทุกความต้องการ</div>
                </div>
                <div class="self-stretch h-[200px] p-5 bg-[#faf9f6] rounded-[10px] flex-col justify-end items-start gap-6 flex">
                    <form method="GET" action="{% url 'HomeBless:property-listing' %}" class="w-full h-[86px] px-[8px] justify-center items-center gap-[30px] inline-flex left-0" id="searchForm">
                        <div class="grow shrink basis-0 flex-col justify-start items-start gap-1.5 inline-flex">
                            <div class="self-stretch p-2.5 bg-[#faf9f6] rounded-[10px] border border-[#a6abc6] justify-start items-center gap-2.5 inline-flex">
                                <div data-svg-wrapper class="relative">
                                    <img src="{% static 'property-listing/search.svg' %}" alt="Search">
                                </div>
                                <input type="text" name="search" id="searchInput" placeholder="คีย์เวิร์ด, สถานที่สำคัญ, จังหวัด ฯลฯ"
                                    class="grow shrink basis-0 h-[26px] bg-transparent outline-none text-[#444F85] text-base font-normal font-['IBM Plex Sans Thai']"
                                    value="{{ request.GET.search }}">
                            </div>
                        </div>
                    
                        <div class="px-8 border-l border-r border-[#d0d8ef] justify-start items-center gap-4 flex">
                            <div class="relative">
                                <select name="listing_type" id="listingTypeSelect" class="h-[46px] px-2.5 bg-[#faf9f6] rounded-[10px] border border-[#2162d0] text-[#2162d0] text-base font-normal font-['IBM Plex Sans Thai'] appearance-none pr-8">
                                    <option value="" {% if not request.GET.listing_type %}selected{% endif %}>ประกาศ</option>
                                    <option value="all" {% if request.GET.listing_type == 'all' %}selected{% endif %}>ทั้งหมด</option>
                                    <option value="sell" {% if request.GET.listing_type == 'sell' %}selected{% endif %}>ขาย</option>
                                    <option value="rent" {% if request.GET.listing_type == 'rent' %}selected{% endif %}>ให้เช่า</option>
                                </select>
                                <div class="absolute top-1/2 right-3 -translate-y-1/2 pointer-events-none">
                                    <img src="{% static 'dropdown-icon.svg' %}" alt="Icon">
                                </div>
                            </div>
                        </div>
                        <button type="submit" class="p-2.5 bg-[#2162d0] rounded-[10px] justify-center items-center gap-2.5 flex
                            hover:bg-[#1e4cae] active:ring-4 active:ring-[#aac4f9] transition-all duration-200">
                            <div class="text-[#faf9f6] text-base font-normal font-['IBM Plex Sans Thai']">ค้นหาเลย!</div>
                        </button>
                    </form>
                    <div class="flex-col justify-start items-start gap-2 flex">
                        <div class="self-stretch text-[#575b6f] text-base font-normal font-['IBM Plex Sans Thai']">คีย์เวิร์ดยอดนิยม</div>
                        <div class="self-stretch justify-start items-center gap-4 inline-flex">
                            <button class="keyword-btn p-2.5 bg-[#d0d8ef] rounded-md justify-center items-center gap-2.5 flex">
                                <div class="text-[#444f85] text-base font-normal font-['IBM Plex Sans Thai']">ใกล้ BTS</div>
                            </button>
                            <button class="keyword-btn p-2.5 bg-[#d0d8ef] rounded-md justify-center items-center gap-2.5 flex">
                                <div class="text-[#444f85] text-base font-normal font-['IBM Plex Sans Thai']">ใกล้โรงเรียน</div>
                            </button>
                            <button class="keyword-btn p-2.5 bg-[#d0d8ef] rounded-md justify-center items-center gap-2.5 flex">
                                <div class="text-[#444f85] text-base font-normal font-['IBM Plex Sans Thai']">มีประกัน</div>
                            </button>
                            <button class="keyword-btn p-2.5 bg-[#d0d8ef] rounded-md justify-center items-center gap-2.5 flex">
                                <div class="text-[#444f85] text-base font-normal font-['IBM Plex Sans Thai']">คอนโด Pet-Friendly</div>
                            </button>
                            <button class="keyword-btn p-2.5 bg-[#d0d8ef] rounded-md justify-center items-center gap-2.5 flex">
                                <div class="text-[#444f85] text-base font-normal font-['IBM Plex Sans Thai']">บ้านเดี่ยว</div>
                            </button>
                            <button class="keyword-btn p-2.5 bg-[#d0d8ef] rounded-md justify-center items-center gap-2.5 flex">
                                <div class="text-[#444f85] text-base font-normal font-['IBM Plex Sans Thai']">วิวสวย</div>
                            </button>
                            <button class="keyword-btn p-2.5 bg-[#d0d8ef] rounded-md justify-center items-center gap-2.5 flex">
                                <div class="text-[#444f85] text-base font-normal font-['IBM Plex Sans Thai']">สระว่ายน้ำ</div>
                            </button>
                            <button class="keyword-btn p-2.5 bg-[#d0d8ef] rounded-md justify-center items-center gap-2.5 flex">
                                <div class="text-[#444f85] text-base font-normal font-['IBM Plex Sans Thai']">สวนสวย</div>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
            </div>
        </div>
        <div class="w-[1000px] h-[1153px] flex-col justify-start items-center gap-[88px] flex">
            <div class="w-full h-[197px] flex-col justify-start items-center gap-6 flex">
                <div class="w-full h-[53px] px-12 flex flex-col justify-center items-center gap-2.5">
                    <div class="text-center text-[#444f85] text-[32px] font-bold font-['IBM Plex Sans Thai']">
                        หาตามประเภท
                    </div>
                    <div class="w-24 border-2 border-black/20 mx-auto"></div>
                </div>
            <div class="w-full h-auto flex justify-start items-center gap-8">
                <button class="property-type-btn flex flex-col justify-center items-center gap-4 grow shrink basis-0 h-[120px] p-2.5 bg-[#faf9f6] rounded-[10px] border border-[#d0d8ef]" data-property-type="บ้านเดี่ยว">
                    <div data-svg-wrapper>
                    <img src="{% static 'home/house.svg' %}" alt="House">
                    </div>
                    <div class="text-center text-[#444f85] text-[22px] font-medium font-['IBM Plex Sans Thai']">บ้านเดี่ยว</div>
                </button>
                <button class="property-type-btn flex flex-col justify-center items-center gap-4 grow shrink basis-0 h-[120px] p-2.5 bg-[#faf9f6] rounded-[10px] border border-[#d0d8ef]" data-property-type="คอนโด">
                    <div data-svg-wrapper>
                    <img src="{% static 'home/condo.svg' %}" alt="Condo">
                    </div>
                    <div class="text-center text-[#444f85] text-[22px] font-medium font-['IBM Plex Sans Thai']">คอนโด</div>
                </button>
                <button class="property-type-btn flex flex-col justify-center items-center gap-4 grow shrink basis-0 h-[120px] p-2.5 bg-[#faf9f6] rounded-[10px] border border-[#d0d8ef]" data-property-type="โฮมออฟฟิศ">
                    <div data-svg-wrapper>
                    <img src="{% static 'home/homeoffice.svg' %}" alt="Office">
                    </div>
                    <div class="text-center text-[#444f85] text-[22px] font-medium font-['IBM Plex Sans Thai']">โฮมออฟฟิศ</div>
                </button>
                <button class="property-type-btn flex flex-col justify-center items-center gap-4 grow shrink basis-0 h-[120px] p-2.5 bg-[#faf9f6] rounded-[10px] border border-[#d0d8ef]" data-property-type="อพาร์ทเม้นท์">
                    <div data-svg-wrapper>
                    <img src="{% static 'home/apartment.svg' %}" alt="Apartment">
                    </div>
                    <div class="text-center text-[#444f85] text-[22px] font-medium font-['IBM Plex Sans Thai']">อพาร์ทเม้นท์</div>
                </button>
                <button class="property-type-btn flex flex-col justify-center items-center gap-4 grow shrink basis-0 h-[120px] p-2.5 bg-[#faf9f6] rounded-[10px] border border-[#d0d8ef]" data-property-type="ทาวน์เฮ้าส์">
                    <div data-svg-wrapper>
                    <img src="{% static 'home/townhouse.svg' %}" alt="Townhouse">
                    </div>
                    <div class="text-center text-[#444f85] text-[22px] font-medium font-['IBM Plex Sans Thai']">ทาวน์เฮ้าส์</div>
                </button>
            </div>
            </div>
            <div class="h-[491px] flex-col justify-start items-center gap-4 flex">
                <div class="w-full h-[53px] px-12 flex flex-col justify-center items-center gap-2.5">
                    <div class="text-center text-[#444f85] text-[32px] font-bold font-['IBM Plex Sans Thai']">
                        บ้านใหม่ของคุณอยู่แถวไหน ?
                    </div>
                    <div class="w-24 border-2 border-black/20 mx-auto"></div>
                </div>
                <div class="justify-start items-center gap-4 inline-flex">
                    <button class="tab-location-btn px-5 py-2.5 border-b-2 border-[#2162d0] justify-center items-center gap-1.5 flex active">
                        <div class="text-[#2162d0] text-base font-normal font-['IBM Plex Sans Thai']">ลาดพร้าว</div>
                    </button>
                    <button class="tab-location-btn px-5 py-2.5 justify-center items-center gap-1.5 flex">
                        <div class="text-[#2162d0] text-base font-normal font-['IBM Plex Sans Thai']">ทองหล่อ</div>
                    </button>
                    <button class="tab-location-btn px-5 py-2.5 justify-center items-center gap-1.5 flex">
                        <div class="text-[#2162d0] text-base font-normal font-['IBM Plex Sans Thai']">สีลม</div>
                    </button>
                    <button class="tab-location-btn px-5 py-2.5 justify-center items-center gap-1.5 flex">
                        <div class="text-[#2162d0] text-base font-normal font-['IBM Plex Sans Thai']">พระโขนง</div>
                    </button>
                    <button class="tab-location-btn px-5 py-2.5 justify-center items-center gap-1.5 flex">
                        <div class="text-[#2162d0] text-base font-normal font-['IBM Plex Sans Thai']">วิภาวดี</div>
                    </button>
                    <button class="tab-location-btn px-5 py-2.5 justify-center items-center gap-1.5 flex">
                        <div class="text-[#2162d0] text-base font-normal font-['IBM Plex Sans Thai']">สุขุมวิท</div>
                    </button>
                    <button class="tab-location-btn px-5 py-2.5 justify-center items-center gap-1.5 flex">
                        <div class="text-[#2162d0] text-base font-normal font-['IBM Plex Sans Thai']">อโศก</div>
                    </button>
                    <button class="tab-location-btn px-5 py-2.5 justify-center items-center gap-1.5 flex">
                        <div class="text-[#2162d0] text-base font-normal font-['IBM Plex Sans Thai']">อ่อนนุช</div>
                    </button>
                </div>
                        
                {% include "components/home/ladproa.html" %}
                {% include "components/home/thonglo.html" %}
                {% include "components/home/silom.html" %}
                {% include "components/home/phakanong.html" %}
                {% include "components/home/wipawadee.html" %}
                {% include "components/home/sukumvit.html" %}
                {% include "components/home/asok.html" %}
                {% include "components/home/aonuch.html" %}
                
            </div>
        </div>
    </div>
</div>
    

<script>
document.addEventListener('DOMContentLoaded', function() {
    const locationTabButtons = document.querySelectorAll('.tab-location-btn');
    const locationComponents = [
        'ladproa',
        'thonglo',
        'silom',
        'phakanong',
        'wipawadee',
        'sukumvit',
        'asok',
        'aonuch'
    ].map(id => document.getElementById(id)).filter(Boolean);
    
    locationComponents.forEach((component, index) => {
        if (index !== 0) {
            component.style.display = 'none';
        }
    });
    
    locationTabButtons.forEach((button, index) => {
        button.addEventListener('click', function() {
            locationComponents.forEach(component => {
                component.style.display = 'none';
            });
            
            if (locationComponents[index]) {
                locationComponents[index].style.display = 'block';
            }
            
            locationTabButtons.forEach(btn => {
                btn.classList.remove('active', 'border-b-2', 'border-[#2162d0]');
            });
            
            this.classList.add('active', 'border-b-2', 'border-[#2162d0]');
        });
    });
    
    document.querySelectorAll('.keyword-btn').forEach(button => {
        button.addEventListener('click', function(event) {
            event.preventDefault();
            const keywordText = this.querySelector('div').innerText;
            document.getElementById('searchInput').value = keywordText;
            document.getElementById('searchForm').submit();
        });
    });
    
    document.querySelectorAll('.property-type-btn').forEach(button => {
        button.addEventListener('click', function(event) {
            event.preventDefault();
            const propertyType = this.getAttribute('data-property-type');
            document.getElementById('searchInput').value = propertyType;
            document.getElementById('searchForm').submit();
        });
    });
    
    locationTabButtons.forEach(button => {
        button.addEventListener('dblclick', function() {
            const locationText = this.querySelector('div').innerText;
            document.getElementById('searchInput').value = locationText;
            document.getElementById('searchForm').submit();
        });
    });
    
    const trainTabButtons = document.querySelectorAll('.tab-train-btn');
    
    trainTabButtons.forEach(button => {
        button.addEventListener('click', function() {
            trainTabButtons.forEach(btn => {
                btn.classList.remove('active', 'border-b-2', 'border-[#2162d0]');
            });
            
            this.classList.add('active', 'border-b-2', 'border-[#2162d0]');
        });
    });
    
    const typeTabButtons = document.querySelectorAll('.tab-type-btn');
    
    typeTabButtons.forEach(button => {
        button.addEventListener('click', function() {
            typeTabButtons.forEach(btn => {
                btn.classList.remove('active', 'border-b-2', 'border-[#2162d0]');
            });
            
            this.classList.add('active', 'border-b-2', 'border-[#2162d0]');
        });
    });
});
</script>

{% endblock %}